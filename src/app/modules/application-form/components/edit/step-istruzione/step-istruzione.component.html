<div [formGroup]="parent" >

  <div formGroupName="formIstruzione">

    <div fxLayout="row wrap" fxLayout.sm="column" fxLayout.xs="column">

      <mat-form-field appearance="outline" fxFlex="100">
        <mat-select #tipologiaSelect
                    formControlName="tipologia"
                    placeholder="Seleziona tipologia titolo di studio">

          <ngx-mat-select-search  formControlName="tipologiaDropdown"
                                  [noEntriesFoundLabel]="'Nessun risultato'"
                                  [placeholderLabel]="'Cerca tipologia . . '"></ngx-mat-select-search>
          <mat-option *ngFor="let tipo of (filtroTipologie | async)" [value]="tipo">
            {{tipo.desc}}
          </mat-option>
        </mat-select>
        <mat-hint>&emsp;* Required</mat-hint>

        <mat-error *ngIf="tipologia.hasError('required')">Campo Obbligatorio</mat-error>
      </mat-form-field>

    </div>

   <div fxLayout="row wrap" fxLayout.sm="column" fxLayout.xs="column">

    <mat-form-field appearance="outline" fxFlex="100">
      <mat-select #titoliSelect
                  formControlName="titolo"
                  placeholder="Seleziona titolo di studio">

        <ngx-mat-select-search  formControlName="titoloDropdown"
                                [noEntriesFoundLabel]="'Nessun risultato'"
                                [placeholderLabel]="'Cerca tipologia . . '"></ngx-mat-select-search>
        <mat-option *ngFor="let titl of (filtroTitolo | async)" [value]="titl">
          {{titl.desc}}
        </mat-option>
      </mat-select>
      <mat-hint>&emsp;* Required</mat-hint>

      <mat-error *ngIf="tipologia.hasError('required')">Campo Obbligatorio</mat-error>
    </mat-form-field>

   </div>

    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column">



      <mat-form-field appearance="outline" fxFlex="18">
        <mat-label>Anno diploma</mat-label>
        <input formControlName="dataConseguimento"
               matInput
               maxlength="4"
               minlength="4"
               placeholder="Anno Diploma">

        <mat-hint>&emsp;* Required</mat-hint>

        <mat-error *ngIf="dataConseguimento.hasError('required')">Campo Obbligatorio</mat-error>
        <mat-error *ngIf="dataConseguimento.hasError('onlyNumber')">Inserire nel campo solo numberi</mat-error>
        <mat-error *ngIf="dataConseguimento.hasError('max')">L'anno Ã¨ superiore all'anno corrente</mat-error>
        <mat-error *ngIf="dataConseguimento.hasError('minlength')">L'anno deve avere solo 4 numeri</mat-error>
        <mat-error *ngIf="dataConseguimento.hasError('maxlength')">L'anno deve avere solo 4 numeri</mat-error>
      </mat-form-field>

    </div>

    <div fxLayout="row wrap" fxLayout.sm="column" fxLayout.xs="column">

      <mat-form-field appearance="outline" fxFlex="40">
        <mat-select #provinceSelect
                    formControlName="provinciaIstituto"
                    placeholder="Seleziona Provincia istituto">

          <ngx-mat-select-search  formControlName="provinceDropdown"
                                 [noEntriesFoundLabel]="'Nessun risultato'"
                                 [placeholderLabel]="'Cerca provincia . . '"></ngx-mat-select-search>
          <mat-option *ngFor="let prov of (filtroProvince | async)" [value]="prov">
            {{prov.nome}}
          </mat-option>
        </mat-select>
        <mat-hint>&emsp;* Required</mat-hint>

        <mat-error *ngIf="provinciaIstituto.hasError('required')">Campo Obbligatorio</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" fxFlex="40">
        <mat-select #comuneSelect
                    formControlName="comuneIstituto"
                    placeholder="Seleziona Comune istituto">
          <ngx-mat-select-search  formControlName="comuniDropdown"
                                 [noEntriesFoundLabel]="'Nessun risultato'"
                                 [placeholderLabel]="'Cerca comune . . '"></ngx-mat-select-search>
          <mat-option *ngFor="let com of (filtroComuni | async)" [value]="com">
            {{com.nome}}
          </mat-option>
        </mat-select>
        <mat-hint>&emsp;* Required</mat-hint>
        <mat-error *ngIf="comuneIstituto.hasError('required')">Campo Obbligatorio</mat-error>
      </mat-form-field>

    </div>

    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column">
      <mat-form-field appearance="outline" fxFlex="40">
        <mat-label>Sede Istituto</mat-label>
        <input formControlName="indirizzo"
               matInput
               maxlength="255"
               placeholder="Inserire la via dell'istituto">

        <mat-hint align="end">{{indirizzo.value?.length || 0}}/255</mat-hint>
        <mat-error *ngIf="indirizzo.hasError('required')">Campo Obbligatorio</mat-error>
        <mat-error *ngIf="indirizzo.hasError('maxlength')">Hai superato il limite dei caratteri</mat-error>

      </mat-form-field>
    </div>


  <div fxLayout="column">
    <div fxFlex="row" fxLayoutGap="15px">
      <span fxFill fxFlex="1 1 0"></span>
      <button class="stepper_button" color="primary" mat-flat-button matStepperPrevious>Indietro</button>
      <button class="stepper_button" color="primary" mat-flat-button matStepperNext>Avanti</button>
    </div>
  </div>

  </div>
</div>
